###### <sub><font color = orange>JAVASE基础教程</font></sub><br />——<br /><sup><font color=white>卷4</font></sup><font color=white>数组</font><br/><sup><sub><font color=cyan>节2</font></sub><font color=cyan>数组的基本使用</font></sup><br/><br/>	``#最新版本|V4.0#(purple) ``<br/>**长风**<br/>*COPYRIGHT ⓒ 2021. 王道版权所有*

[TOC]

# 数组的声明

> `>(green)`
>
> 要想使用数组，首先要声明（declaration）数组，类似于变量的声明。
>
> 声明数组的两种语法格式：
>
> - 格式一
>
>   - ```
>     数据类型[] 数组名;
>     ```
>
> - 格式二
>
>   - ```
>     数据类型 数组名[];
>     ```
>
>  <font color=red>**注意：**</font>
>
> 1. 第一种格式具有更好的可读性，可以直观的看到这个数组是一个什么数据类型的数组。
> 2. 第二种格式，是Java沿袭自C语言的一种声明方式。我们都知道，早期很多Java开发者都是C转过来的，所以很多开发者在开发Java时，一时改不了使用习惯。我们在Java早期的源代码中，可以发现很多格式二的使用案例。Java为了代码的兼容性考虑，不太可能会取消这一声明格式。（但是像C#这种和Java同源的设计语言，已经取消了数组的声明格式二）
> 3. 但是，我们毕竟不是开发者，而几乎所以Java规范中都禁止使用格式二定义数组。 <font color=red>**规范的Java代码应该永远采用格式一。**</font>

# 数组的初始化

> `>(green)`
>
> 声明完成一个数组后，该数组仍然不能使用，还缺少一个初始化（initialization）的过程，类似变量初始化（赋值）
>
> 对于变量而言，初始化是在内存中开辟空间并赋值的过程，对于数组而言，也是类似的过程。数组要开辟一片连续的空间用来存放数据，然后进行元素赋值，即：
>
> 1. 我们要告诉需要开辟多少内存空间（数组有多长）
> 2. 数组中的元素要明确它的值（没有值，数组的存储单元也没有意义）
>
> ---
>
> 为了完成上述两个要求，数组的初始化就有了两种方式：

## 静态初始化

> `>(red)`
>
> 静态初始化指的是：
>
> > 由程序员显式的，指定数组中每个元素的初始值，数组的长度由系统决定（实际上也是由程序员给出的）
>
> 和数组的声明写在一起，语法格式就是：
>
> ``` java
> 数据类型[] 数组名 = new 数据类型[]{元素1,元素2,元素3...};
> ```
>
> **注：new是一个关键字，它的含义是创建对象。**
>
> 静态初始化有简写的形式，可以省略new关键字，如下：
>
> ``` java
> 数据类型[] 数组名 = {元素1,元素2,元素3...};
> ```
>
>  <font color=red>**注：简化的形式必须跟在声明之后，不能单独使用！**</font> 下列写法就是错误的：
>
> ``` java
> 数组名 = {元素1,元素2,元素3...};
> ```
>
> 当然完整格式可以不和声明写在一起，可以单独使用。

## 动态初始化

> `>(red)`
>
> 动态初始化指的是：
>
> > 程序员只是指定数组的长度，数组中每个元素的初始值由系统（实际上是JVM）决定。
>
> 和数组的声明写在一起，语法格式就是：
>
> ``` java
> 数据类型[] 数组名 = new 数据类型[数组长度];
> ```
>
> 注意事项：
>
> 1. 动态初始化没有给出具体元素的赋值，但仍然能够初始化完成，这是因为数组中的元素具有默认值。
> 2. 数组的长度必须是一个int范围内的非负数。
> 3. 动态初始化数组相对更灵活，是更常用的方式。

---

以上，就是数组的两种初始化方式，（一维）数组没有第三种初始化的方式，比如：

- 静态初始化和动态初始化叠加使用，是经典的错误❌

```Java
数组名 = new 数据类型[数组长度]{元素1,元素2,元素3...};❌
```

## 长度不可变

> `>(green)`
>
> 从初始化过程不难看出：初始化的本质就是为数组中的数组元素分配内存空间，并为每个数组元素赋值（或者默认值）
>
> ---
>
> 而数组是一种对内存空间的要求很高的结构，要求内存空间必须是连续的，这意味着数组的内存空间分配是有规划的。<font color=red>**数组的初始化一旦完成，它的长度就不能改变了！**</font> 这是数组十分重要的一个特点：
>
> 1. 这要求我们在使用数组时，必须严格考量数组的长度，如果长度过长就导致空间浪费，过短又不够用。
> 2. 正是因为数组这个限制，所以实际开发中几乎不会 <font color=red>**直接使用**</font> 数组作为容器，而是**通过集合类中ArrayList间接使用**。（ArrayList底层实现仍然是数组，它有下标，能够随机访问，具有数组的优点，但是它没有长度的限制。它是通过将元素放入更长的数组中实现扩容的。这点我们后面会学习。)

# 数组的基本操作

> `>(green)`
>
> 数组的最基本操作，包括访问元素，存取元素，获取长度等等，非常简单，一一了解一下，然后自己写一遍代码就可以了。

## 数组的访问

> `>(green)`
>
> 数组的访问有两种形式：
>
> 1. 直接输出语句打印数组名，可以得到类似于：
>
>    `[I@1540e19d `
>
>    这样的一个字符串，解释一下这个字符串的由来：
>
>    - **[左中括号**表示该数据类型是一个（一维）数组
>    - **I大写的字母i**表示数组的类型是int类型
>    - @后面跟的是一个16进制的数，可以认为是该数组的内存地址空间。
>
> 2. 若想要获取数组中元素的取值，其访问语法是：
>
>    ``` java
>    数据类型 变量名 = 数组名[下标]
>    ```
>
>    注：不能填入一个不存在索引，否则会报错！

## 元素的赋值

> `>(red)`
>
> 数组元素的获取和赋值都依赖于下标访问，本质上是一个语法：
>
> ``` java
> 数组名[下标] = 值;
> ```

## 获取数组长度

> `>(green)`
>
> 数组的长度可以直接用引用（数组名）获取，语法是：
>
> ``` java
> int len = 数组名.length;
> ```
>
> 注：数组的长度是一个int类型整数，Java不支持long类型作为数组长度

###### The End
