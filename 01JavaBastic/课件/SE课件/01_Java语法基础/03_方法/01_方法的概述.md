###### <sub><font color = orange>JAVASE基础教程</font></sub><br />——<br /><sup><font color=white>卷3</font></sup><font color=white>方法</font><br/><sup><sub><font color=cyan>节1</font></sub><font color=cyan>方法的概述</font></sup><br/><br/>	``#最新版本|V3.0#(purple) ``<br/>**长风**<br/>*COPYRIGHT ⓒ 2021. 王道版权所有*

[TOC]

# 引入

> `>(red)`
>
> 引例，现在有三个需求：
>
> 1. 编写程序，计算10+20，并输出结果
> 2. 编写程序，计算111+222，并输出结果
> 3. 编写程序，计算333+444，并输出结果
>
> 请问这个程序有哪些缺点呢？
>
> ---
>
> 很明显：
>
> 这个程序中有大量的代码是重复的，是可以被 <span style=color:red;background:yellow>**复用**</span> 的，是可以优化的。为了解决这个需求，我们就需要 <font color=red>**方法**</font> 这种语法机制，这意味着方法（method）至少应该解决我们以下三个痛点：
>
> 1. 能够重复实现某种特定功能，解决同一类问题，而不需要重复写代码。
> 2. 每次实现这个功能时，可以传入不同的数据。
> 3. 传入数据实现功能后，能够得到不同的结果。
>
> 核心需求就是，**能复用代码，有输入和输出。**这实际上就是方法的作用。与此同时，我们还把使用 `方法`去实现某种特定功能的过程叫做**方法的调用（invoke）。**

# 方法的基本使用

> `>(green)`
>
> 从方法的语法到方法的定义，以及方法的调用，熟悉一遍流程。最后再了解一下方法的实质。

## 语法

> `>(green)`
>
> 一般情况下，定义一个方法是以下语法结构：
>
> ###### 方法的语法
>
> ``` java
> [修饰符列表] 返回值类型 方法名 (形式参数列表){
> 	//方法体
> }
> ```
>
> 在具体了解每个部分的语义之前，我们需要了解 <font color=red>**两个非常重要的概念：**</font> 
>
> 1. **[修饰符列表] 返回值类型 方法名 (形式参数列表)** 合起来称之 <font color=red>**方法的声明**</font>（也叫**方法头**）
> 2. **方法名 (形式参数列表)** 合起来称之为 <font color=red>**方法的签名**</font>
>
> ---
>
> 接下来逐一解释语法的每个部分：
>
> 1. **修饰符列表**：修饰符列表不是必须的，可以为空不写，现在默认为**public static**（具体含义面向对象讲）
> 2. **返回值类型**：方法可能会有结果，这个结果就是返回值，返回值的数据类型称之为**返回值类型**
>    - 返回值类型可以是基本数据类型，也可以是引用数据类型（例如String）
>      - 此时表示方法拥有返回值，必须显式的指出该返回值，否则编译报错
>      - 在方法体中用`return`关键字指示返回值，格式为`return + 返回值`
>      - return后的返回值的数据类型，要和方法声明中的返回值类型保持一致（或者兼容）
>      - 方法执行到return时，方法执行完毕
>    - 方法完全可以没有结果，也就是没有返回值，但是方法必须要有返回值类型，用关键字**void**标记
>      - 使用void标记的方法，没有返回值，自然也无需指出返回值
> 3. **方法名**：给方法起个名字，调用方法时用的，方法名的命名需要遵守规范
>    - 必须是合法的标识符
>    - <font color=red>**方法名最好`见名知意`**</font>
>    - 方法名最好是动词
>    - **方法名遵循首字母小写，其他单词的首字母大写的`小驼峰命名法`**
> 4. **形式参数列表**：方法在实现功能时，有时需要传入数据。
>    - 方法在定义时就应该告诉方法的调用者应该传入什么数据，这就是**形式参数列表**，简称**形参列表**
>      - 形参可以是基本数据类型变量，也可以是引用数据类型变量
>      - 形参的个数不受限，多个形参之间用逗号隔开
>      - 形参的作用域仅在方法内部，它们都是**局部变量**
>      - 形参中起关键决定性作用的是**形参的数据类型**，形参名只是一个标识符，不会影响方法调用
>    - **形参列表**实际只是一个占位符，并不是真正的参数。
>      - 调用方法时传入的具体数据参数称之为**实际参数**，简称实参
>      - 方法调用时，实参和形参的数据类型要一一对应，并且保持一致（或者兼容）
> 5. **方法体**：方法体包含具体的语句，定义该方法的功能，由大括号包裹起来。
>
> <font color=red>**特别注意 ：**</font>
>
> <span style=color:red;background:yellow>**一定要分清楚，什么是形式参数和实际参数。形参完全可以理解成一个占位符，它的作用只是告诉方法的调用者，该传入什么类型的参数。而方法的实参才是一个真正的参数。**</span>
>
> ---
>
> 方法在定义时：
>
> 必须定义在类体中（实际上对于Java而言，几乎所有代码都必须写在类体中）其它方法的外部。方法不能嵌套定义。
>
> **方法在类体中定义的顺序对方法调用结果没有影响，各个方法之间是平行关系。**

## 方法的调用

> `>(green)`
>
> 明确上述语法后，定义完方法后。接下来需要调用方法，使方法生效。
>
> 首先要明确的是：方法不调用，不会自己执行。在Java当中：main方法是程序的入口方法，一个方法必须**直接或间接**地在main方法中调用才会被执行。
>
> 其次，对于**修饰符列表中有static的方法，在同一个class的main方法中**的调用方式是：**方法名(实际参数列表)**
>
> 调用一个有返回值的方法，实际上就是操作返回值，void方法没有返回值，不能做任何操作。
>
> <font color=red>**void方法没有返回值，但它有返回值类型，void本身就是一种返回值类型。**</font>
>
> 具体的代码可以参考下列：
>
> ``` java
> public static void main(String[] args) {
>     // Result of 'NewDemo.sum()' is ignored
>     // 方法既然有返回值,那么建议去接收或者使用这个返回值
>     int sumValue = sum(10, 20);
>     System.out.println(sumValue);
> 
>     int num1 = 100;
>     int num2 = 200;
> 		// 操作方法调用就是操作方法的返回值
>     System.out.println(sum(num1, num2));
>     System.out.println(sum(num1, num2) + 100);
> }
> 
> // 定义一个方法,来完成求两个int类型数值的和
> public static int sum(int num1, int num2) {
>     return num1 + num2;
> }
> ```

## 本质

> `>(green)`
>
> > 方法的本质
>
> 方法实际上是可以重复完成特定功能的代码块，**本质是为了代码复用。**
>
> 小tips：
>
> > 函数与方法（C++/Java）
>
> 1. 方法可以认为是一个程序的子程序，在许多程序设计语言中（比如C/C++）用函数这个术语描述命名子程序。
> 2. 函数和方法只是用词习惯上和名字叫法上的差别，实质上是一样的结构。

## 实参的自动类型转换

> `>(green)`
>
> 方法在调用时，是需要传入具体的实参的。那么思考以下问题：
>
> > 如果一个方法需要传入一个long类型数据，那我传入一个int值可以吗？如果传入double值可以吗？
>
> 显然，传入int值是可以的，因为int转换成long是自动类型转换，换句话说，int变量是可以看成一个long变量的。而double肯定是不行，因为double--->long是强制类型转换。所以做以下总结：
>
> 方法在调用时，如果填入的实参的数据类型，可以**自动类型转换**成形参的数据类型，那么即便数据类型不一致，语法上仍然允许该数据类型的变量作为实参。反之强制类型转换不行。
>
> 小tips：
>
> 由于引用数据类型也存在自动类型转换，所以如果形参是引用数据类型，上面这一条仍然成立。（具体面向对象再讲）

> `>(red)`
>
> 引申一下：
>
> **方法的返回值和它的返回值类型也存在这种特点！**

# main()方法详解

> `>(green)`
>
> main方法详解，对于main方法而言：
>
> ###### main方法代码
>
> ``` java
> public static void main(String[] args) {
> 	//方法体	
> }
> ```
>
> 解释如下：
>
> 1. public static表示“公开的，静态的”，具体含义面向对象再讲。
> 2. void表示方法没有返回值
> 3. main是方法名，代表这个方法是主方法，是程序的入口方法。
>    - main不是关键字，但是自定义方法不要用这个名字
> 4. （String[] args）是形参列表，其中String[]是一种引用类型，数组（马上讲），args是一个形参名
>    - 理论上来说，args可以在符合标识符命名的前提下可以任意写。但是不建议这么做
> 5. main方法是启动程序时给**JVM**调用的，是程序的入口方法
>
> 通过main方法，我们要明确一个特别重要地概念：
>
>  <span style=color:red;background:yellow>**形参列表中起关键作用的是数据类型**</span>，它决定了调用该方法时需要传入什么数据。而形参地名字实际上就是一个代号，仅会影响方法内部如何使用外部传入地数据，形参名叫什么其实无所谓。
>

# 小试牛刀

> `>(red)`
>
> 小试牛刀，完成以下练习题：
>
> 1. 键盘录入两个值，求最大值
> 2. 定义一个方法，求圆的面积
>    - 方法参数:半径 (radius) 
>    - 圆周率:3.14
> 3. 定义一个计算器（Calculator）它的功能有
>    - 加，减，乘，除
>    - 求平方
>    - 求a的n次方

# 什么时候需要使用方法？

> `>(green)`
>
> > 方法的使用在Java当中随处可见，随着代码量的积累自己也能够有所体会，这里指出几个使用比较多的场景
>
> 1. 方法的本质是复用代码，所以如果一段代码反复使用，使用方法是显而易见的
>
> 2. 很多时候我们会在一个方法中写大量的代码去实现某个功能，但是一个方法中代码过多会导致结构臃肿
>
>    这个时候就可以把一部分代码抠出来，作为一个方法，从而让代码的结构更加简洁清晰
>
> > 除此之外，还有几个小知识点：
>
> 1. 提取方法的快捷键**Ctrl+Alt+M**
> 2. 快速生成方法：直接写方法调用，编译报错后使用alt+enter快速生成方法

###### The End