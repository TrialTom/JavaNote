###### <sub><font color = orange>JAVASE基础教程</font></sub><br />——<br /><sup><font color=white>卷1</font></sup><font color=white>面向对象基础</font><br/><sup><sub><font color=cyan>节12</font></sub><font color=cyan>访问权限修饰符</font></sup><br/><br/>	``#最新版本|V3.0#(purple) ``<br/>**长风**<br/>*COPYRIGHT ⓒ 2021. 王道版权所有*

[TOC]

# 概述

> `>(green)`
>
> 至此，面向对象的繁杂的一些细节知识点，我们都学完了。那接下来再学习一点纷杂的知识点： <span style=color:red;background:yellow>**访问权限修饰符**</span>
>
> 类似于public这种关键字，就是访问权限修饰符。你应该已经发现了，访问权限修饰符在Java中非常常见，所以它 <font color=red>**非常重要**</font>。

> `>(red)`
>
> 程序的开发，不可能是一个人完成的，而是需要分工协作的。那么怎么保证**"我想要被别人访问的地方，允许访问。不想让别人访问的地方，禁止访问"**这种合情合理的需求呢？
>
> 在早期没有访问权限修饰符控制权限时，依赖于程序员之间的口头协定来做访问权限控制。但是这样完全依赖于程序员自觉地做法过于随意，有些人会遵守游戏规则，但实际上大多数人都是随心所欲的，而且这种口头约束类似于法律对人行为的约束，属于事后约束。
>
> 所以需要在语法上，使用访问权限修饰符**强制**控制访问权限。
>
> > 当然，什么是访问权限修饰符？
>
> 访问权限控制符：在Java语言中，一切事物（类和类的所有成员）都具有(或显示定义或隐式定义的)访问权限，而这种语言层面的访问权限控制，是由访问权限修饰符实现的。

# 访问级别

> `>(green)`
>
> 访问权限是分级别的，就像我家的房子，父母能用，我们也能用，但是我的衣服是不能给别人穿的。Java的访问权限的级别，是依赖 <font color=red>**包（package）**</font>来实现的。共分为以下四个级别，访问权限从严格到宽松顺序为：
>
> 1. 只能够在同一类中能够访问，私有的，外面谁都不能用。
> 2. 同一包中的子类或者其它类能够访问，同包中都可以使用。
> 3. 不同包的子类能够访问。
> 4. 不同包的其他类能够访问。
>
> 上述四种访问权限级别，分别对应三个关键字和一个缺省：
>
> 1. 私有的，对应关键字： <span style=color:red;background:yellow>**private**</span>
>
> 2. 同包中能访问，对应<span style=color:red;background:yellow>**缺省**</span>，表示在访问权限修饰符的位置空出来，什么都不写。
>
>    比如，定义类的成员变量时：
>
>    ``` java
>    String name;
>    ```
>
>    这就是一个缺省的访问权限，表示同包中都可以访问。
>
> 3. 不同包的子类能够访问。对应关键字： <span style=color:red;background:yellow>**protected**</span>
>
> 4. 不同包的其他类都能访问，相当于没有控制权限，大家都能用，对应关键字： <span style=color:red;background:yellow>**public**</span>
>
> 注：当然宽松的访问权限总是包含严格的，比如public修饰，表示不同包都能用，自然同包或自身类中也能随便用了。

# 分类

> `>(green)`
>
> 访问权限修饰符，可以根据修饰的位置（结构）不同，主要分为两大类：
>
> 1. 修饰类中（静态、非静态）成员方法和变量以及构造器等类中结构。
> 2. 修饰类的权限。用来限定整个类，对于外部使用者的可见性。
>
>  <font color=red>**注：要想访问一个类中的成员，显然首先需要类的权限，其次还需要类中成员的权限。**</font>

## 类的访问权限修饰符

> `>(green)`
>
> 对于类的访问权限控制，非常简单，只有两种：
>
> 1. public：对其他任意类都可见。
> 2. （缺省的）不写任何关键字，表示对同包中的其它类可见。
>
> 思考：为什么class没有私有或者protected之类的权限？
>
> > 这是因为，单独定义的class是一个独立的概念，它没有对谁私有，受谁保护的概念。所以一般的class的访问权限修饰符只有两种，但是类是可以嵌套定义的。内部类就有了私有之类的概念，就有了更多的访问权限修饰符。

## 类中结构的访问权限修饰符

> `>(red)`
>
> 对于 <font color=red>**类中成员和构造器**</font> 的访问权限，访问权限修饰符总位于它们定义的开头位置，可以使用的修饰符有4种：
>
> 1. public：任意类均能访问，实际就是没有限制访问权限。
> 2. protected：同包中的其他类都可以访问，不同包下必须是子类才能够访问。
> 3. （缺省的）什么关键字都不写，表示同包中的其他类都可以访问。
> 4. private：仅对自身类中的其他成员可见。
>
> 权限的表格如下：
>
> ###### 成员访问权限修饰符
>
> |              |            public            |          protected           |           （缺省）           |           private            |
> | ------------ | :--------------------------: | :--------------------------: | :--------------------------: | :--------------------------: |
> | 同一类中     | <font color=red>**✔**</font> | <font color=red>**✔**</font> | <font color=red>**✔**</font> | <font color=red>**✔**</font> |
> | 同一包其他类 | <font color=red>**✔**</font> | <font color=red>**✔**</font> | <font color=red>**✔**</font> |                              |
> | 不同包子类   | <font color=red>**✔**</font> | <font color=red>**✔**</font> |                              |                              |
> | 不同包其他类 | <font color=red>**✔**</font> |                              |                              |                              |
>

# 访问权限修饰符的作用

> `>(red)`
>
> ```
> 给成员和类加上访问权限,就相当于给房子加锁,没有钥匙(没有访问权限)就进不去(访问不到)
> 但是房子的锁是可以撬开,是可以强行打破的,同样的访问权限符也不是绝对不可破解的
> 比如Java自身就提供了反射的特性,反射是可以破解访问权限的,在反射面前,一切隐私都无可遁形
> 既然这样,访问权限修饰符就是可以破解的,那么访问权限就具有了一些别的涵义:
>      就和给门加锁,警告不要逾越界限一样,给类和成员加访问权限也有警示和暗示的意思,告诉代码的使用者
>      哪里可以触碰(public),哪些不能触碰(private或者其他的访问权限)
>      这在java是非常重要的设计原则
> 这就意味着代码的使用者,应该关心代码中public和有访问权限的部分,而不应该关心private和没有权限的部分
> 对于代码的书写者而言，隐藏代码的具体实现细节，可以很方便的修改代码实现
> ```

> 最基本的，访问权限修饰符自然是用来控制访问权限的（这是废话），但访问权限修饰符的作用远不止此，因为访问权限是可以被破解的。Java自身就可以利用`反射`的技术，破解访问权限，访问原本访问不到的内容（比如私有）。
>
> 那么访问权限修饰符，更重要的用途就是：
>
> >  <span style=color:red;background:yellow>**告诉代码的使用者，哪些地方不要触碰，哪些地方应该使用。起到警告、约束和指导代码使用者的功能：**</span>
>
> 1. 不应该触碰的地方，用私有。告诉别人：这里你不需要看，不用管。
>
>    1. 工具类，指的是所有方法都是static修饰的，可以直接用类名点（而无需创建对象）去调用方法的类。
>
>       **既然不需要对象，那就干脆不要创建对象，直接把这个功能去掉** ——>  <font color=red>**私有化构造方法**</font>
>
>    2. 在实现public方法时，经常需要一些"中间的过程"方法，这些方法不需要提供给外界使用，仅作为内部实现。应该私有化它们。
>
>    3. 工厂设计模式。指的是创建对象不通过自身的构造器，而是通过"工厂"去创建，这时类的构造器应该私有。
>
> 2. 专门提供给外界使用，推荐使用的，用public。告诉别人：这里是你需要关注、了解和使用的地方。
>
>    1. 需要明确提供给外界使用，实现功能的方法，需要用public修饰。
>
> ---
>
> 以上，访问权限修饰符，就把代码的书写者和代码的使用者给区分开来了：
>
> 1. 代码使用者无需关心没有访问权限的代码，仅需要关心public部分就可以了。
>2. 代码开发者，可以自由的开发非public部分的代码，这些私有部分的代码，叫做隐藏代码的具体实现细节，可以很方便的修改代码实现。

###### The End
