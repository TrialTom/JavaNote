###### <sub><font color = orange>JAVASE基础教程</font></sub><br />——<br /><sup><font color=white>卷2</font></sup><font color=white>封装</font><br/><sup><sub><font color=cyan>节1</font></sub><font color=cyan>封装的基础理解</font></sup><br/><br/>	``#最新版本|V2.0#(purple) ``<br/>**长风**<br/>*COPYRIGHT ⓒ 2021. 王道版权所有*

[TOC]

# 概述

> `>(green)`
>
> 封装（encapsulate）是指将数据及相关操作绑定在一起的一种编程机制，使其构成一个不可分割的独立实体。在Java中，类就是这样一种结构。当然，数据被保护在类的内部，是为了尽可能地隐藏内部的细节，只保留一些对外"接口"使之与外部发生联系。
>
> 之所以要封装，是为了将代码的使用者和实现者分开。使用者能够完全得到自己想要的功能，又不需要思考过多细节；实现者可以隐藏功能实现的细节，方便灵活进行修改而不影响使用者使用。

# 语法实现

> `>(red)`
>
> 从实际的语法角度上来说，Java当中的封装是依赖于访问权限修饰符来实现：
>
> 1. 比如完全不需要被外界知道的属性，在类中完全可以私有化。如不希望被外界访问的age属性：
>
>    ``` java
>    private int age;
>    ```
>
> 2. 有些时候，一些属性虽然支持给外界访问，但希望能够控制它的访问时，就需要先私有化它，然后再使用 <font color=red>**Getter/Setter**</font> 方法。
>
>    Getter/Setter方法的格式比较固定：
>
>    1. Getter方法提供外界访问的途径，一般命名为getXxx（Xxx是成员变量名），一般直接返回成员变量得值即可。
>    2. Setter方法提供外界赋值的途径，一般命名为setXxx（Xxx是成员变量名），一般使用this关键字完成赋值就可以了。
>
>    比如：
>
>    ###### Getter/Setter方法
>
>    ``` java
>    private int age;
>    public void setAge(int age){
>      this.age = age;
>    }
>    public int getAge(){
>      return age;
>    }
>    ```
>
> 3. 使用Getter方法后，可以让使用者只能通过事先定制好的方法来访问数据，而且可以很方便地加入控制的条件，限制对属性的不合理操作。
>
> 4. 使用Setter方法后，可以限制使用者的赋值，可以过滤掉使用者一些不合理的赋值。
>
> **总之，Getter/Setter方法使成员变量的读、写分离了，从原先的不可控变成了可控。在实际开发中，一个类的多数成员变量都是私有的，有必要时提供方法访问，无必要的则无需提供。**

# 注意事项

> `>(green)`
>
> 使用private私有化成员变量，并提供方法给外界访问时，需要注意：
>
> 1. 成员变量的访问权限应该尽量收紧，尽量私有化，当然有必要时也可以给外界权限直接访问。
>
> 2. 对于boolean类型的成员变量来说，Getter方法的名字比较特殊，采用isXxx（Xxx是变量名）的形式。这时如果该boolean类型的成员变量本身就叫`isXxx`时，就会出现下面情况：
>
>    ###### boolean类型Getter方法的特殊性
>
>    ``` java
>    private boolean isMale;
>    private boolean flag;
>    
>    public boolean isFlag(){
>        return flag;
>    }
>    
>    public boolean isMale() {
>    		return isMale;
>    }
>    ```
>
>    那么，在有些时候，就会导致程序误以为成员变量名为`male`的情况发生（实际为`isMale`）。所以在很多Java开发规范中，都明确建议boolean类型的成员变量名不要命名为`isXxx`。
>
> 3. 静态成员变量，如果也需要Getter/Setter方法，需要注意其Getter/Setter方法也要是静态的。（当然，静态变量写Getter/Setter方法是很少见的）
>
> 4. Getter/Setter方法的写法显然十分固定，可以直接使用快捷键`Alt + Insert`快速生成。

# 后记

> `>(red)`
>
> 道理，思想这种虚无缥缈的东西，本身就是一个需要实践，自己领悟的东西。包括我们前面讲解的OOP思想，这一节的封装思想也是一样。在我们当前阶段，你可能把封装理解成Getter/Setter方法的使用，在开发中，碰到成员变量的定义先私有化访问权限，先后快速生成Getter/Setter方法再说；你也可能把封装理解成，为了方便我修改代码，所以我私有化不让你看，等等。
>
> ---
>
> 但是封装的思想应当远不止于此，除了变量的封装，方法也是一样可以私有化完成封装。正是有了封装，才有了面向对象。从专业的角度来讲， <span style=color:red;background:yellow>**真正的封装指的是：经过深思熟虑，依靠精巧的设计，暴露给外界"功能完善但最少"的接口，并使用具体的内部实现完全对外透明。**</span>（透明指的是，使用者能够顺利得到自己想要的功能，而完全感受不到内部的实现细节。但是如果设计者为了隐藏而隐藏，将本不该私有的成员私有化了，以至于使用者没办法正常完成功能，只能通过奇怪的方式去完成**（比如完全不必要的Getter/Setter方法）**，不仅不方便，还有可能引发错误。）
>
> 不要为了封装而封装，要真正从软件设计的角度去考虑。当然这对大家目前这个阶段来说，能有这个想法就不错了。

###### The End
