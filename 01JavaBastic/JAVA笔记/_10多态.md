[TOC]



# 多态

## 1.概述

- 从字面上理解，同一事物，在不同的时刻/情况表现出不同的状态，就可以称之为多态。、
- 多态的本质是，**方法调用的结果根据对象的具体类型来决定，子类中如果重写了父类方法，而父类引用指向不同对象，那么调用这个被重写的方法时，会根据对象的具体类型不同，体现出不同的行为。**

## 2.多态的条件

1. 首先需要继承
2. 需要方法重写
3. 父类引用指向子类引用

## 3.不能发生多态的场景

1. 不能继承的类
   - final修饰的类
2. 不能重写的方法
   - final修饰的方法
   - 私有方法
   - 静态方法
   - 构造器

## 4.多态的访问特征

- 对象名点成员变量的访问特征：
  - 编译时（访问范围）看左边，运行时（访问结果）还看左边。
- 对象名点成员方法的访问特征
  - 编译时看左边，运行时看右边

## 5.多态的优点

1. 提高代码复用率，提升了可维护性
2. 用父类指向不同子类对象，只需要调用同名方法，就能自动根据不同子类对象，得出不同的行为。<span style="background:yellow;color:red">这大幅度简化了代码，提升了程序的扩展性。</span>

## 6.多态的缺点

- 对象名点成员方法的访问范围看引用，父类引用这时就限制了子类对象的功能，为了访问子类独有成员，需要将父类引用转换成子类引用，即强制**类型转换。**

  > - 引用数据类型强制类型转换（向下转型）的语法：
  >   - `子类引用的类名 对象名 = （子类引用的类名）父类引用；`
  > - 通过编译的条件：
  >   - 强转为子类即可
  > - 通过运行的条件：
  >   - 强转后的引用必须是真的能够指向这个对象
  >   - 可以是这个对象的数据类型本身的引用，也可以是这个对象的数据类型父类的引用
  >   - 错误的强转，会导致程序抛出ClassCastException异常，程序终止。

## 7.instanceof关键字

1. 语法：

   > `引用 instanceof 类名`
   >
   > 语法结构会返回一个布尔值，

2. 概述：表示判断引用所指向的对象，是否是后面类名的对象或者子类对象。

